package org.example;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

import java.util.ArrayList;
import java.util.List;

public class Crawler {

    private String[] tickerSymbol;

    public Crawler(String[] tickerSymbol){
        this.tickerSymbol = tickerSymbol;

    }

    public String[] generateURL(String[] ticker){

        String[] tickerURL = new String[ticker.length];
        String url = "https://www.google.com/search?q=";
        for(int i = 0; i < ticker.length; i++){
            String tempURL = url + ticker[i] + " stock";
            tickerURL[i] = tempURL;
        }
        return tickerURL;

    }

    public List<List<String>> stockInformation (String [] stockURL) { // Full Name, Price, Data, Type 
        
        Document document;
        String query = "div.PZPZlf.ssJ7i.B5dxMb";
        for (int i = 0; i < stockURL.length; i++) {
            try{
                document = Jsoup.connect(stockURL[i]).get();
                String name = document.select(query).text();
                tickerName[i] = name;
            }catch (Exception e){
                e.printStackTrace();
            }

        }
        return tickerName;
    }

    public void both(){
        String[] stockurl = generateURL(tickerSymbol);
        String[] temp =  stockName(stockurl);

        for(String t: temp){
            System.out.println(t);
        }



    }




}
